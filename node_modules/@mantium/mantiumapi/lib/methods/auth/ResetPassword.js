"use strict";

var config = require('../../config/config');

var msg = require('../../config/error-message');

var fetch = require('../fetch');

module.exports = function (headers) {
  var _ref = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {},
      email = _ref.email;

  if (!headers.api_key) throw new Error(msg.errorMessages().access_token_missing);
  var options = {
    method: 'POST',
    url: config.resetPasswordURL(),
    headers: headers.getHeaders(),
    body: JSON.stringify({
      email: email
    })
  };
  return fetch(options);
};